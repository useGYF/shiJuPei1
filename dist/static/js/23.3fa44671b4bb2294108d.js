webpackJsonp([23],{1020:function(a,e,t){e=a.exports=t(845)(!1),e.push([a.i,".businessOperation .el-input[data-v-71a14b15]{width:215px}.businessOperation .class-boxdar[data-v-71a14b15]{margin:10px 20px}.businessOperation .class-boxdar .ca-left[data-v-71a14b15]{margin-bottom:15px;width:33%;height:auto;float:left}.businessOperation .class-boxdar .ca-left .block[data-v-71a14b15]{margin-top:15px}.businessOperation .class-boxdar .ca-left .block span[data-v-71a14b15]{display:inline-block;width:100px;text-align:right}.businessOperation #right[data-v-71a14b15]{width:100%;overflow:hidden;padding:20px;background-color:#f6fbff}.businessOperation #right .box[data-v-71a14b15]{width:100%;height:auto;border-bottom:1px solid #eee;margin-bottom:10px}.businessOperation #right .box .warning[data-v-71a14b15]{width:100%;margin:10px 0 10px 10px;overflow:hidden;line-height:40px}.businessOperation #right .box .warning a[data-v-71a14b15]{display:inline-block;padding-left:13px;font-size:16px;float:left;color:#363636;font-weight:700}.businessOperation #right .box .warning .addbtn[data-v-71a14b15]{display:inline-block}.businessOperation #right .search[data-v-71a14b15]{text-align:left;margin-bottom:24px;width:100%}.businessOperation #right .search span[data-v-71a14b15]{display:inline-block;width:60px;text-align:right}.businessOperation #right .search .searchbtn[data-v-71a14b15]{margin-top:10px;margin-left:60px;display:inline-block}.businessOperation #right .page[data-v-71a14b15]{text-align:left}.businessOperation #right .eidt[data-v-71a14b15]{color:#000}.businessOperation #right .eidt[data-v-71a14b15] :hover{color:#20a0ff;text-decoration:underline}.businessOperation #right .InfoEnd[data-v-71a14b15]{color:#000}.businessOperation #right .InfoEnd[data-v-71a14b15] :hover{color:#bf3831;text-decoration:underline}.businessOperation #right .el-pagination[data-v-71a14b15]{display:inline-block;margin-left:170px;padding-bottom:90px}#companyBody[data-v-71a14b15]{width:100%;height:100%;text-align:left;border-bottom:1px solid #eee;padding-bottom:20px;margin-bottom:20px}#companyBody .companyLeft[data-v-71a14b15],#companyBody .companyRight[data-v-71a14b15]{float:left;width:40%}#companyBody .companyLeft .block[data-v-71a14b15],#companyBody .companyRight .block[data-v-71a14b15]{margin-top:10px}#companyBody .companyLeft span[data-v-71a14b15],#companyBody .companyRight span[data-v-71a14b15]{display:inline-block;width:60px;text-align:right}#companyBody .companyLeft .select[data-v-71a14b15],#companyBody .companyRight .select[data-v-71a14b15]{width:calc(100% - 65px)}#companyBody .companyRight[data-v-71a14b15]{float:right;width:60%}#companyBody .companyRight .selectContact[data-v-71a14b15]{width:calc(50% - 70px)}#companyBody .companyRight .selectSmall[data-v-71a14b15]{width:calc(50% - 65px)}#companyBody .Long[data-v-71a14b15]{width:calc(100% - 60px)}#canYin[data-v-71a14b15],#river[data-v-71a14b15],#Slw[data-v-71a14b15],#Voc[data-v-71a14b15]{text-align:left}#canYin .block[data-v-71a14b15],#river .block[data-v-71a14b15],#Slw .block[data-v-71a14b15],#Voc .block[data-v-71a14b15]{display:inline-block;margin-top:10px;width:49%}#canYin .block span[data-v-71a14b15],#river .block span[data-v-71a14b15],#Slw .block span[data-v-71a14b15],#Voc .block span[data-v-71a14b15]{display:inline-block;width:80px;text-align:right}#canYin .block .treater[data-v-71a14b15],#river .block .treater[data-v-71a14b15],#Slw .block .treater[data-v-71a14b15],#Voc .block .treater[data-v-71a14b15]{width:calc(100% - 85px)}",""])},1074:function(a,e,t){var o=t(1020);"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);t(846)("5296a2e0",o,!0,{})},1153:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"businessOperation"},[t("div",{attrs:{id:"right"}},[a._m(0),a._v(" "),t("div",{staticClass:"search"},[t("span",[a._v("企业名称")]),a._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入企业名称"},model:{value:a.searchParam.companyName,callback:function(e){a.$set(a.searchParam,"companyName",e)},expression:"searchParam.companyName"}}),a._v(" "),t("div",[t("span",[a._v("网格名称")]),a._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入网格名称"},model:{value:a.searchParam.gridName,callback:function(e){a.$set(a.searchParam,"gridName",e)},expression:"searchParam.gridName"}}),a._v(" "),t("span",[a._v("视频类型")]),a._v(" "),t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:a.searchParam.videoType,callback:function(e){a.$set(a.searchParam,"videoType",e)},expression:"searchParam.videoType"}},a._l(a.videoTypeoptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.value,value:a.id}})})),a._v(" "),t("div",{staticClass:"searchbtn"},[t("el-button",{attrs:{type:"primary"},on:{click:a.getNotice}},[a._v("查询")]),a._v(" "),t("el-button",{staticClass:"btns",attrs:{type:"primary"},on:{click:function(e){a.addCompany(0,null)}}},[a._v("添加企业")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.cameraChange}},[a._v("添加摄像头")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.ExportVideolist}},[a._v("导出")])],1)],1)],1),a._v(" "),a._m(1),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:""}},[t("el-table-column",{attrs:{prop:"typeString",label:"视频类型"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",label:"企业名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),a._v(" "),t("el-table-column",{attrs:{prop:"gridName",label:"所属网格"}}),a._v(" "),t("el-table-column",{attrs:{prop:"contact",label:"联系人"}}),a._v(" "),t("el-table-column",{attrs:{prop:"phoneNum",label:"联系电话"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{staticClass:"eidt",attrs:{type:"text",size:"small"},on:{click:function(t){a.addCompany(1,e.row)}}},[a._v("编辑企业")]),a._v(" "),t("span",{staticStyle:{color:"#eee"}},[a._v("|")]),a._v(" "),t("el-button",{staticClass:"eidt",attrs:{type:"text",size:"small"},on:{click:function(t){a.ClickCamera(e.row)}}},[a._v("浏览摄像头")]),a._v(" "),t("span",{staticStyle:{color:"#eee"}},[a._v("|")]),a._v(" "),t("el-button",{staticClass:"eidt",attrs:{type:"text",size:"small"},on:{click:function(t){a.DeleteOperatorInfo(e.row)}}},[a._v("删除")])]}}])})],1),a._v(" "),t("div",{staticClass:"page"},[t("span",{staticClass:"demonstration"},[a._v("共找到"+a._s(a.totalCount)+"条记录")]),a._v(" "),t("el-pagination",{attrs:{background:"","current-page":a.currentPage,"page-size":a.pagesize,layout:"prev, pager, next, jumper",total:a.totalCount},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),t("el-dialog",{attrs:{title:a.lokerstate+"视频监控点",visible:a.dialogVisible,width:"80%"},on:{"update:visible":function(e){a.dialogVisible=e}}},[t("div",{staticClass:"class-boxdar"},[t("div",{staticClass:"ca-left"},[t("div",{staticClass:"block"},[t("span",[a._v("视频自增ID：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入ID"},model:{value:a.cameraInfo.Id,callback:function(e){a.$set(a.cameraInfo,"Id",e)},expression:"cameraInfo.Id"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("摄像头名称：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入摄像头名称"},model:{value:a.cameraInfo.camName,callback:function(e){a.$set(a.cameraInfo,"camName",e)},expression:"cameraInfo.camName"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("摄像头编号：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入摄像头编号"},model:{value:a.cameraInfo.camCode,callback:function(e){a.$set(a.cameraInfo,"camCode",e)},expression:"cameraInfo.camCode"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("所属设备编号：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入所属设备编号"},model:{value:a.cameraInfo.fixingCode,callback:function(e){a.$set(a.cameraInfo,"fixingCode",e)},expression:"cameraInfo.fixingCode"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("通道号：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入通道号"},model:{value:a.cameraInfo.channelCode,callback:function(e){a.$set(a.cameraInfo,"channelCode",e)},expression:"cameraInfo.channelCode"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("视频状态：")]),a._v(" "),t("el-select",{attrs:{clearable:"",placeholder:"请选择视频状态"},model:{value:a.cameraInfo.status,callback:function(e){a.$set(a.cameraInfo,"status",e)},expression:"cameraInfo.status"}},a._l(a.CamStatusOptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)]),a._v(" "),t("div",{staticClass:"ca-left"},[t("div",{staticClass:"block"},[t("span",[a._v("码流：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入码流"},model:{value:a.cameraInfo.flowCode,callback:function(e){a.$set(a.cameraInfo,"flowCode",e)},expression:"cameraInfo.flowCode"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("经度：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入经度"},model:{value:a.cameraInfo.longitude,callback:function(e){a.$set(a.cameraInfo,"longitude",e)},expression:"cameraInfo.longitude"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("纬度：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入纬度"},model:{value:a.cameraInfo.latitude,callback:function(e){a.$set(a.cameraInfo,"latitude",e)},expression:"cameraInfo.latitude"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("设备类型：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入设备类型"},model:{value:a.cameraInfo.devType,callback:function(e){a.$set(a.cameraInfo,"devType",e)},expression:"cameraInfo.devType"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("联系人：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:a.cameraInfo.Contact,callback:function(e){a.$set(a.cameraInfo,"Contact",e)},expression:"cameraInfo.Contact"}})],1)]),a._v(" "),t("div",{staticClass:"ca-left"},[t("div",{staticClass:"block"},[t("span",[a._v("电话：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:a.cameraInfo.phone,callback:function(e){a.$set(a.cameraInfo,"phone",e)},expression:"cameraInfo.phone"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("企业名称：")]),a._v(" "),t("el-autocomplete",{attrs:{"fetch-suggestions":a.querySearchAsync,placeholder:"请输入企业名称"},on:{select:a.handleSelect},model:{value:a.cameraInfo.CompanyName,callback:function(e){a.$set(a.cameraInfo,"CompanyName",e)},expression:"cameraInfo.CompanyName"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("所属区域：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入所属区域"},model:{value:a.cameraInfo.area,callback:function(e){a.$set(a.cameraInfo,"area",e)},expression:"cameraInfo.area"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("区域编号：")]),a._v(" "),t("el-input",{attrs:{placeholder:"请输入区域编号"},model:{value:a.cameraInfo.gridCode,callback:function(e){a.$set(a.cameraInfo,"gridCode",e)},expression:"cameraInfo.gridCode"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("摄像头类型：")]),a._v(" "),t("el-select",{attrs:{clearable:"",placeholder:"请选择摄像头类型"},model:{value:a.cameraInfo.camType,callback:function(e){a.$set(a.cameraInfo,"camType",e)},expression:"cameraInfo.camType"}},a._l(a.CamTypeOptions,function(a){return t("el-option",{key:a.value,attrs:{label:a.value,value:a.id}})}))],1)])]),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.dialogVisible=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.addOrEdit}},[a._v("确 定")])],1)]),a._v(" "),t("el-dialog",{attrs:{title:a.companyInfo.title,visible:a.isCompany,width:"50%"},on:{"update:visible":function(e){a.isCompany=e}}},[t("div",{staticStyle:{overflow:"hidden"},attrs:{id:"companyBody"}},[t("div",{staticClass:"companyLeft"},[t("div",{staticClass:"block"},[t("span",[a._v("督查类型")]),a._v(" "),t("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择督查类型"},model:{value:a.companyInfo.supervisionType,callback:function(e){a.$set(a.companyInfo,"supervisionType",e)},expression:"companyInfo.supervisionType"}},a._l(a.supervision,function(a){return t("el-option",{key:a.value,attrs:{label:a.value,value:a.id}})}))],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("所属网格")]),a._v(" "),t("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择所属网格"},model:{value:a.companyInfo.gridName,callback:function(e){a.$set(a.companyInfo,"gridName",e)},expression:"companyInfo.gridName"}},a._l(a.gridOption,function(a){return t("el-option",{key:a.value,attrs:{label:a.name,value:a.id}})}))],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("责任主体")]),a._v(" "),t("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择责任主体"},model:{value:a.companyInfo.responsibility,callback:function(e){a.$set(a.companyInfo,"responsibility",e)},expression:"companyInfo.responsibility"}},a._l(a.responsibility,function(a){return t("el-option",{key:a.value,attrs:{label:a.name,value:a.id}})}))],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("纬度")]),a._v(" "),t("el-input",{staticClass:"select",attrs:{placeholder:"请输入纬度",clearable:""},model:{value:a.companyInfo.latitude,callback:function(e){a.$set(a.companyInfo,"latitude",e)},expression:"companyInfo.latitude"}})],1),a._v(" "),"1"===a.companyInfo.supervisionType?t("div",{staticClass:"block"},[t("span",[a._v("预警状态")]),a._v(" "),t("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择责任主体"},model:{value:a.companyInfo.warning,callback:function(e){a.$set(a.companyInfo,"warning",e)},expression:"companyInfo.warning"}},a._l(a.warning,function(a){return t("el-option",{key:a.value,attrs:{label:a.value,value:a.id}})}))],1):a._e()]),a._v(" "),t("div",{staticClass:"companyRight"},[t("div",{staticClass:"block"},[t("span",[a._v("名称")]),a._v(" "),t("el-input",{staticClass:"select",attrs:{placeholder:"请输入名称",clearable:""},model:{value:a.companyInfo.companyName,callback:function(e){a.$set(a.companyInfo,"companyName",e)},expression:"companyInfo.companyName"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("地址")]),a._v(" "),t("el-input",{staticClass:"select",attrs:{placeholder:"请输入地址",clearable:""},model:{value:a.companyInfo.address,callback:function(e){a.$set(a.companyInfo,"address",e)},expression:"companyInfo.address"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("联系人")]),a._v(" "),t("el-input",{staticClass:"selectContact",attrs:{placeholder:"请输入联系人",clearable:""},model:{value:a.companyInfo.contact,callback:function(e){a.$set(a.companyInfo,"contact",e)},expression:"companyInfo.contact"}}),a._v(" "),t("span",[a._v("联系电话")]),a._v(" "),t("el-input",{staticClass:"selectSmall",attrs:{placeholder:"请输入联系电话",clearable:""},model:{value:a.companyInfo.phone,callback:function(e){a.$set(a.companyInfo,"phone",e)},expression:"companyInfo.phone"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("经度")]),a._v(" "),t("el-input",{staticClass:"select",attrs:{placeholder:"请输入经度",clearable:""},model:{value:a.companyInfo.longitude,callback:function(e){a.$set(a.companyInfo,"longitude",e)},expression:"companyInfo.longitude"}})],1)])]),a._v(" "),"3"===a.companyInfo.supervisionType||"餐饮油烟"===a.companyInfo.supervisionType?t("div",{attrs:{id:"canYin"}},[t("div",{staticClass:"block"},[t("span",[a._v("净化器名称")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入净化器名称"},model:{value:a.companyInfo.treaterName,callback:function(e){a.$set(a.companyInfo,"treaterName",e)},expression:"companyInfo.treaterName"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("净化器类型")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入净化器类型"},model:{value:a.companyInfo.treaterType,callback:function(e){a.$set(a.companyInfo,"treaterType",e)},expression:"companyInfo.treaterType"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("风机名称")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入风机名称"},model:{value:a.companyInfo.airName,callback:function(e){a.$set(a.companyInfo,"airName",e)},expression:"companyInfo.airName"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("灶头个数")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入灶头个数"},model:{value:a.companyInfo.kitchenNum,callback:function(e){a.$set(a.companyInfo,"kitchenNum",e)},expression:"companyInfo.kitchenNum"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("规模")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入规模"},model:{value:a.companyInfo.scale,callback:function(e){a.$set(a.companyInfo,"scale",e)},expression:"companyInfo.scale"}})],1)]):a._e(),a._v(" "),"1"===a.companyInfo.supervisionType||"voc企业"===a.companyInfo.supervisionType||"5"===a.companyInfo.supervisionType||"工地"===a.companyInfo.supervisionType?t("div",{attrs:{id:"Voc"}},[t("div",{staticClass:"block"},[t("span",[a._v("行业类别")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入行业类别"},model:{value:a.companyInfo.industryClass,callback:function(e){a.$set(a.companyInfo,"industryClass",e)},expression:"companyInfo.industryClass"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("占地面积")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入占地面积"},model:{value:a.companyInfo.floorSpace,callback:function(e){a.$set(a.companyInfo,"floorSpace",e)},expression:"companyInfo.floorSpace"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("治理措施")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入治理措施"},model:{value:a.companyInfo.measures,callback:function(e){a.$set(a.companyInfo,"measures",e)},expression:"companyInfo.measures"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("治理投资")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入治理投资"},model:{value:a.companyInfo.governenceInvest,callback:function(e){a.$set(a.companyInfo,"governenceInvest",e)},expression:"companyInfo.governenceInvest"}})],1),a._v(" "),"1"===a.companyInfo.supervisionType||"voc企业"===a.companyInfo.supervisionType?t("div",{staticClass:"block"},[t("span",[a._v("治理工序")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入治理工序"},model:{value:a.companyInfo.controlProcess,callback:function(e){a.$set(a.companyInfo,"controlProcess",e)},expression:"companyInfo.controlProcess"}})],1):a._e()]):a._e(),a._v(" "),"2"===a.companyInfo.supervisionType||"散乱污"===a.companyInfo.supervisionType?t("div",{attrs:{id:"Slw"}},[t("div",{staticClass:"block"},[t("span",[a._v("行业类别")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入行业类别"},model:{value:a.companyInfo.industryClass,callback:function(e){a.$set(a.companyInfo,"industryClass",e)},expression:"companyInfo.industryClass"}})],1),a._v(" "),t("div",{staticClass:"block"},[t("span",[a._v("治理措施")]),a._v(" "),t("el-input",{staticClass:"treater",attrs:{placeholder:"请输入治理措施"},model:{value:a.companyInfo.measures,callback:function(e){a.$set(a.companyInfo,"measures",e)},expression:"companyInfo.measures"}})],1)]):a._e(),a._v(" "),"6"===a.companyInfo.supervisionType||"河道管理"===a.companyInfo.supervisionType?t("div",{staticClass:"block",attrs:{id:"river"}},[t("span",[a._v("河道水质")]),a._v(" "),t("el-select",{attrs:{clearable:"",placeholder:"请选择河道水质"},model:{value:a.companyInfo.riverQuality,callback:function(e){a.$set(a.companyInfo,"riverQuality",e)},expression:"companyInfo.riverQuality"}},a._l(a.riverQuality,function(a){return t("el-option",{key:a.value,attrs:{label:a.value,value:a.id}})}))],1):a._e(),a._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){a.isCompany=!1}}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.addCompanyEnter}},[a._v("确 定")])],1)]),a._v(" "),t("el-dialog",{attrs:{title:a.cameraInfo.title,visible:a.showCamera},on:{"update:visible":function(e){a.showCamera=e}}},[t("el-table",{attrs:{data:a.cameraData}},[t("el-table-column",{attrs:{property:"cameraCode",label:"摄像头编号"}}),a._v(" "),t("el-table-column",{attrs:{property:"name",label:"摄像头名称"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{staticClass:"eidt",attrs:{type:"text",size:"small"},on:{click:function(t){a.handleClick(e.row)}}},[a._v("编辑")]),a._v(" "),t("el-button",{staticClass:"eidt",attrs:{type:"text",size:"small"},on:{click:function(t){a.removeCam(e.row)}}},[a._v("删除")])]}}])})],1)],1)],1)])},staticRenderFns:[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"box"},[t("div",{staticClass:"warning"},[t("a",[a._v("视频企业")])])])},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"box"},[t("div",{staticClass:"warning"},[t("a",[a._v("列表")])])])}]}},883:function(a,e,t){function o(a){t(1074)}var n=t(1)(t(945),t(1153),o,"data-v-71a14b15",null);a.exports=n.exports},945:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(104),n=(t.n(o),t(6));e.default={name:"businessOperation",data:function(){return{departmentVal:"",tableData:[{CameraResourceName:"摄像头"}],currentPage:1,pagesize:10,dialogVisible:!1,TotalRowsCount:null,totalCount:1,InfoData:[],ListData:[],lokerstate:"",videoId:"",CamName:"",CamIndexCode:"",BelongDevice:"",Channel:"",DevType:"",SubStream:"",DevIndexCode:"",Longitude:"",Latitude:"",Type:"",Contact:"",Phone:"",CompanyName:"",CompanyAddress:"",Area:"",GridCode:"",shuoming:"",restaurants:[],timeout:null,searchParam:{companyName:"",gridName:"",videoType:""},CamTypeOptions:[{value:"voc",id:"1"},{value:"散乱污",id:"2"},{value:"餐饮油烟",id:"3"},{value:"秸秆焚烧",id:"4"},{value:"工地",id:"5"},{value:"河道",id:"6"}],CamStatusOptions:[{value:"开启",label:"开启"},{value:"停机",label:"停机"},{value:"停业整顿",label:"停业整顿"}],videoTypeoptions:[{value:"voc企业",id:"1"},{value:"散乱污",id:"2"},{value:"餐饮油烟",id:"3"},{value:"秸秆焚烧",id:"4"},{value:"工地",id:"5"},{value:"河道管理",id:"6"}],warning:[{value:"蓝色预警",id:"1"},{value:"黄色预警",id:"2"},{value:"橙色预警",id:"3"},{value:"红色预警",id:"4"}],companyInfo:{id:"",title:"",supervisionType:"",companyName:"",gridName:"",address:"",responsibility:"",contact:"",phone:"",treaterName:"",treaterType:"",airName:"",kitchenNum:"",riverQuality:"",latitude:"",longitude:"",warning:"",industryClass:"",floorSpace:"",measures:"",governenceInvest:"",controlProcess:"",scale:""},isCompany:!1,supervision:[{value:"voc企业",id:"1"},{value:"散乱污",id:"2"},{value:"餐饮油烟",id:"3"},{value:"秸秆焚烧",id:"4"},{value:"工地",id:"5"},{value:"河道管理",id:"6"}],gridOption:[],responsibility:[],riverQuality:[{value:"清澈",id:"1"},{value:"较清澈",id:"2"},{value:"较混浊",id:"3"},{value:"严重污染",id:"4"}],cameraData:[],showCamera:!1,cameraInfo:{title:"",Id:"",camName:"",camCode:"",fixingCode:"",channelCode:"",devType:"",flowCode:"",latitude:"",longitude:"",camType:"",Contact:"",phone:"",CompanyName:"",companyAddress:"",area:"",gridCode:"",companyId:"",status:""}}},created:function(){this.GetCaseAll()},mounted:function(){this.getNotice(),this.getGrid()},computed:{},methods:{cameraChange:function(){this.lokerstate="添加",this.dialogVisible=!0,this.cameraInfo.Id="",this.cameraInfo.camName="",this.cameraInfo.camCode="",this.cameraInfo.fixingCode="",this.cameraInfo.channelCode="",this.cameraInfo.devType="",this.cameraInfo.flowCode="",this.cameraInfo.latitude="",this.cameraInfo.longitude="",this.cameraInfo.camType="",this.cameraInfo.Contact="",this.cameraInfo.phone="",this.cameraInfo.companyId="",this.cameraInfo.area="",this.cameraInfo.gridCode="",this.cameraInfo.status=""},cameraEnter:function(){var a=this,e=this.cameraInfo.Id,t=this.cameraInfo.camName,o=this.cameraInfo.camCode,s=this.cameraInfo.fixingCode,i=this.cameraInfo.channelCode,c=this.cameraInfo.devType,l=this.cameraInfo.flowCode,r=this.cameraInfo.latitude,p=this.cameraInfo.longitude,m=this.cameraInfo.camType,d=this.cameraInfo.Contact,u=this.cameraInfo.phone,v=this.cameraInfo.companyId,f=this.cameraInfo.area,y=this.cameraInfo.gridCode,h=this.cameraInfo.status;n.a.AddVideoPointR(e,t,o,s,i,c,l,r,p,m,d,u,v,f,y,h).then(function(e){console.log(e),e.data.status>0?(a.$message({showClose:!0,message:"添加成功",type:"success"}),a.dialogVisible=!1):a.$message({showClose:!0,message:"添加失败",type:"error"})})},removeCam:function(a){var e=this,t=this,o=a.id;this.$confirm("确定删除此摄像头吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.removeCompanyCameras(o).then(function(a){console.log(a);var e=a.data.message;a.data.status>0?(t.$message({message:e,type:"success"}),t.showCamera=!1):t.$message({message:e,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},ClickCamera:function(a){console.log(a),this.cameraInfo.title=a.name,this.showCamera=!0,this.getCompanyCameras(a)},getCompanyCameras:function(a){var e=this,t=a.Id;console.log(a),n.a.getCompanyCameras(t).then(function(t){e.cameraData=t.data.data.map(function(e){return e.comName=a.name,e})})},querySearchAsync:function(a,e){var t=this.restaurants,o=a?t.filter(this.createStateFilter(a)):t;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(o)},3e3*Math.random())},createStateFilter:function(a){return function(e){return 0===e.value.toLowerCase().indexOf(a.toLowerCase())}},handleSelect:function(a){this.cameraInfo.companyId=a.Id},GetCaseAll:function(){var a=this;n.a.GetCaseAll().then(function(e){a.responsibility=e.data.data})},ExportVideolist:function(){var a=this,e=a.searchParam,t=e.companyName,o=e.gridName,s=e.videoType;n.a.VodeoExcelOutPutR(e,t,o,s)},DeleteOperatorInfo:function(a){var e=this;console.log(a);var t=a.Id;this.$confirm("确认要删除本条数据吗？").then(function(a){n.a.GetdeleteCompany(t).then(function(a){console.log(a),a.data.status>0?e.$message({showClose:!0,message:"删除成功",type:"success"}):e.$message({showClose:!0,message:"删除失败",type:"error"})}),setTimeout(function(){e.getNotice()},200)}).catch(function(a){console.log("删除失败")})},handleClick:function(a){this.lokerstate="编辑",this.dialogVisible=!0,console.log(a),this.cameraInfo.Id=a.id,this.cameraInfo.camName=a.name,this.cameraInfo.camCode=a.cameraCode,this.cameraInfo.fixingCode=a.deviceCode,this.cameraInfo.channelCode=a.channelCode,this.cameraInfo.devType=a.deviceType,this.cameraInfo.flowCode=a.flowCode,this.cameraInfo.latitude=a.latitude,this.cameraInfo.longitude=a.longitude,this.cameraInfo.camType=a.cameraType,this.cameraInfo.Contact=a.contact,this.cameraInfo.phone=a.phoneNum,this.cameraInfo.companyId=a.companyId,this.cameraInfo.CompanyName=a.comName,this.cameraInfo.area=a.area,this.cameraInfo.gridCode=a.areaCode,this.cameraInfo.status=a.status},addOrEdit:function(){"编辑"===this.lokerstate?this.EditUpdate():this.cameraEnter()},EditUpdate:function(){var a=this,e=this.cameraInfo.Id,t=this.cameraInfo.camName,o=this.cameraInfo.camCode,s=this.cameraInfo.fixingCode,i=this.cameraInfo.channelCode,c=this.cameraInfo.devType,l=this.cameraInfo.flowCode,r=this.cameraInfo.latitude,p=this.cameraInfo.longitude,m=this.cameraInfo.camType,d=this.cameraInfo.Contact,u=this.cameraInfo.phone,v=this.cameraInfo.companyId,f=this.cameraInfo.area,y=this.cameraInfo.gridCode,h=this.cameraInfo.status;n.a.UpdateVideoPointR(e,t,o,s,i,c,l,r,p,m,d,u,v,f,y,h).then(function(e){console.log(e),e.data.status>0?(a.$message({showClose:!0,message:"编辑成功",type:"success"}),a.dialogVisible=!1,a.showCamera=!1):a.$message({showClose:!0,message:"编辑失败",type:"error"})})},handleSizeChange:function(a){console.log("每页 "+a+" 条")},handleCurrentChange:function(a){this.setPageTable(10,a)},getGrid:function(){var a=this;n.a.getGyGridinfo().then(function(e){a.gridOption=e.data.data})},addCompany:function(a,e){console.log(e),this.isCompany=!0,this.companyInfo.title=a?"编辑企业":"添加企业",a?(this.companyInfo.supervisionType=e.type,this.companyInfo.companyName=e.name,this.companyInfo.gridName=e.gridId,this.companyInfo.address=e.address,this.companyInfo.contact=e.contact,this.companyInfo.phone=e.phoneNum,this.companyInfo.latitude=e.latitude,this.companyInfo.longitude=e.longitude,this.companyInfo.responsibility=e.responsibilityId,this.companyInfo.treaterName=e.treaterName,this.companyInfo.treaterType=e.treaterType,this.companyInfo.airName=e.airName,this.companyInfo.kitchenNum=e.kitchenNum,this.companyInfo.riverQuality=e.riverQuality,this.companyInfo.id=e.Id,this.companyInfo.warning=e.warningColor,this.companyInfo.industryClass=e.industryClass,this.companyInfo.floorSpace=e.floorSpace,this.companyInfo.measures=e.measures,this.companyInfo.governenceInvest=e.governenceInvest,this.companyInfo.controlProcess=e.controlProcess,this.companyInfo.scale=e.scale):(this.companyInfo.supervisionType="",this.companyInfo.companyName="",this.companyInfo.gridName="",this.companyInfo.address="",this.companyInfo.contact="",this.companyInfo.phone="",this.companyInfo.latitude="",this.companyInfo.longitude="",this.companyInfo.responsibility="",this.companyInfo.treaterName="",this.companyInfo.treaterType="",this.companyInfo.airName="",this.companyInfo.kitchenNum="",this.companyInfo.riverQuality="",this.companyInfo.warning="",this.companyInfo.industryClass="",this.companyInfo.floorSpace="",this.companyInfo.measures="",this.companyInfo.governenceInvest="",this.companyInfo.controlProcess="",this.companyInfo.scale="")},addCompanyEnter:function(){var a=this;if("编辑企业"===this.companyInfo.title){var e=this.companyInfo,t=e.companyName,o=e.supervisionType,s=e.address,i=e.gridName,c=e.contact,l=e.phone,r=e.responsibility,p=e.treaterName,m=e.treaterType,d=e.kitchenNum,u=e.airName,v=this.changeSz(e.riverQuality),f=e.latitude,y=e.longitude,h=e.id,b=e.warning,I=e.industryClass,g=e.floorSpace,C=e.measures,_=e.governenceInvest,k=e.controlProcess,x=e.scale;o&&i&&r&&f&&f&&y?n.a.PostupdateCompany(b,h,t,o,s,i,c,l,r,m,d,u,p,v,f,y,I,g,C,_,k,x).then(function(e){console.log(e);var t=e.data.message;e.status>0?(a.$message({message:t,type:"success"}),a.isCompany=!1,a.getNotice()):a.$message({message:t,type:"warning"})}):a.$message({message:"注意:督查类型,所属网格,责任主体,经度,纬度必填！",type:"warning"})}else{var N=this.companyInfo,w=N.companyName,T=N.supervisionType,$=N.address,S=N.gridName,O=N.contact,P=N.phone,D=N.responsibility,V=N.treaterName,B=N.treaterType,E=N.kitchenNum,z=N.airName,L=N.riverQuality,R=N.latitude,Q=N.longitude,A=N.warning,G=N.industryClass,j=N.floorSpace,Y=N.measures,q=N.governenceInvest,F=N.controlProcess,U=N.scale;T&&S&&D&&R&&R&&Q?n.a.PostAddCompany(A,w,T,$,S,O,P,D,B,E,z,V,L,R,Q,G,j,Y,q,F,U).then(function(e){var t=e.data.message;e.status>0?(a.$message({message:t,type:"success"}),a.isCompany=!1,a.getNotice()):a.$message({message:t,type:"warning"})}):a.$message({message:"注意:督查类型,所属网格,责任主体,经度,纬度必填！",type:"warning"})}},getNotice:function(){var a=this,e=a.searchParam,t=e.companyName,o=e.gridName,s=e.videoType;this.ListData=[],n.a.GetVideoDeviceInfoR(t,o,s).then(function(e){var t=e.data.data;a.totalCount=t.length,console.log(t),t.forEach(function(e){var t={};t.typeString=e.typeString,t.type=e.type,t.name=e.name,t.address=e.address,t.gridName=e.gridName,t.contact=e.contact,t.latitude=e.latitude,t.longitude=e.longitude,t.responsibilityName=e.responsibilityName,t.responsibilityId=e.responsibilityId,t.phoneNum=e.phoneNum,t.treaterName=e.jhqmc,t.treaterType=e.jhqlx,t.airName=e.fjmc,t.kitchenNum=e.ztgs,t.riverQuality=e.szTypeString,t.Id=e.id,t.gridId=e.gridId,t.warningColor=e.warningColor,t.industryClass=e.industry,t.floorSpace=e.coverarea,t.measures=e.measures,t.governenceInvest=e.investment,t.controlProcess=e.process,t.scale=e.scale,t.value=e.name||"--",a.ListData.push(t)}),a.restaurants=a.ListData,a.setPageTable(10,1)})},changeSz:function(a){switch(a){case"清澈":return"1";case"较清澈":return"2";case"较混浊":return"3";case"严重污染":return"4";default:return a}},setPageTable:function(a,e){for(var t=[],o=a*(e-1),n=0;n<a&&!(o+n+1>this.ListData.length);n++)t.push(this.ListData[o+n]);this.tableData=t}}}}});