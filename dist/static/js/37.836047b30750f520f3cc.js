webpackJsonp([37],{1026:function(t,a,e){a=t.exports=e(845)(!1),a.push([t.i,".township[data-v-7c696334]{width:430px;height:auto}.township .main .first[data-v-7c696334]{width:100%;height:56px}.township .main .table_container[data-v-7c696334]{margin-left:5px}",""])},1080:function(t,a,e){var n=e(1026);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(846)("474f0694",n,!0,{})},1159:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"township"},[e("div",{staticClass:"main"},[e("div",{staticClass:"first"},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNamexz,callback:function(a){t.activeNamexz=a},expression:"activeNamexz"}},[e("el-tab-pane",{attrs:{label:"全市",name:"third3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"中部县区",name:"second3"}}),t._v(" "),e("el-tab-pane",{attrs:{label:"广阳区",name:"first3"}})],1)],1),t._v(" "),e("div",{staticClass:"table_container"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:"","row-class-name":t.tableRowClassName},on:{"current-change":t.RowCurrentChange}},[e("el-table-column",{attrs:{property:"ranking",label:"排名",width:"80"}}),t._v(" "),t._e(),t._v(" "),e("el-table-column",{attrs:{property:"name",label:"名称",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{property:"com_index",label:"综合指数"}})],1),t._v(" "),e("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[e("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[]}},864:function(t,a,e){function n(t){e(1080)}var i=e(1)(e(925),e(1159),n,"data-v-7c696334",null);t.exports=i.exports},925:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(4),i=e(6);a.default={name:"township",data:function(){return{activeNamexz:"first3",tableData:[],HistoryData:[],allData:[],type:"广阳区",currentRow:null,pagesize:10,currentPage:1,totalCount:0}},created:function(){},mounted:function(){this.handleClick({label:"广阳区"},"")},methods:{compare:function(t){return function(a,e){var n=a[t];return e[t]-n}},tableRowClassName:function(t){t.row;return t.rowIndex%2==0?"warning-row":"success-row"},InitializationDataMethod:function(t){this.HistoryData=t;var a=t;this.SetDataList(a),this.totalCount=this.allData.length,this.setPageTable(10,1)},refreshTable:function(t){this.type=t,this.SetDataList(this.data,t),this.totalCount=this.allData.length,this.setPageTable(10,1)},handleClick:function(t,a){var e=this;this.type=t.label,"全市"==this.type?i.a.GetTownListDataRe("").then(function(t){var a=t.data.Data;e.InitializationDataMethod(a)}):i.a.GetTownListDataRe(this.type).then(function(t){var a=t.data.Data;e.InitializationDataMethod(a),"广阳区"==e.type&&n.a.$emit("loadCumulative",a,"layer_cx","pm25","name")})},SetDataList:function(t){var a=this;this.data=t.sort(this.compare("com_index")),this.allData=[],console.log(t);var e=1;this.data.forEach(function(t){var n={};n.ranking=e++,n.gridname=t.gridname?t.gridname:"----",n.name=t.name,n.com_index=t.com_index,n.id=t.deviceid,n.latitude=t.latitude,n.longitude=t.longitude,a.allData.push(n)})},RowCurrentChange:function(t){this.currentRow=t,n.a.$emit("locationClick","layer_cx",this.currentRow,this.type)},handleCurrentChange:function(t){this.setPageTable(10,t)},setPageTable:function(t,a){console.log(t),console.log(a);for(var e=[],n=t*(a-1),i=0;i<t&&!(n+i+1>this.allData.length);i++)e.push(this.allData[n+i]);this.tableData=e},switchRender:function(t){this.type=t},getPointByType:function(t){var a=[],e=this.data;if(e)for(var n=0,i=e.length;n<i;n++){var l=e[n];l.type===t&&a.push(e[n])}return a}},components:{}}}});