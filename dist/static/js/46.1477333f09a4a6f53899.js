webpackJsonp([46],{1028:function(t,a,e){a=t.exports=e(845)(!1),a.push([t.i,".main[data-v-82c2aa7c]{width:430px;height:auto}.main .strong[data-v-82c2aa7c]{width:100%;padding:10px 0;display:inherit;margin-left:18px;text-align:left}.main .xuanzetbs[data-v-82c2aa7c]{width:100%;text-align:left;padding-left:10px}.main img[data-v-82c2aa7c]{position:absolute;top:40%;left:-17px;cursor:pointer;float:left}.main .kbiaoti[data-v-82c2aa7c]{padding:10px 0}.main .bluexian[data-v-82c2aa7c]{width:26px;border:1px solid #12da88;margin:0 auto}.main .first[data-v-82c2aa7c]{width:100%;height:50px;margin-top:10px}.main .first .tables[data-v-82c2aa7c]{float:left;margin-left:14px;margin-top:0;width:100%;border-bottom:1px solid #000}.main .first .tables .bai[data-v-82c2aa7c]{color:#12da88;border-bottom:2px solid #12da88}.main .first .tables a[data-v-82c2aa7c]{float:left;text-decoration:none;font-size:16px;font-weight:700;color:#fff;display:inline-block;line-height:34px;padding:0 30px;width:auto;height:34px}.main .first .tables[data-v-82c2aa7c] :hover{cursor:pointer}.main .first .tables .time2[data-v-82c2aa7c]{line-height:34px;padding-right:20px;font-size:12px;color:#12da88}.main .first .btnns[data-v-82c2aa7c],.main .first .shijian[data-v-82c2aa7c]{float:left;margin-left:6px}.main .first .btnns button[data-v-82c2aa7c]{border:none;width:80px;height:34px;background:#12da88;color:#fff;border-radius:4px}.main .tqbiaoti[data-v-82c2aa7c]{width:100%;height:22px;padding-left:20px;text-align:left;color:#12da88;margin-left:16px;border-left:3px solid #12da88}.main .strong[data-v-82c2aa7c]{color:#12da88}.main .Second[data-v-82c2aa7c]{width:100%;height:auto}.main .Second .tianqi[data-v-82c2aa7c]{float:left;margin-left:20px}.main .Second .tianqi .tqbj[data-v-82c2aa7c]{width:64px;height:64px;position:relative}.main .Second .tianqi .tqbj .beijing[data-v-82c2aa7c]{width:45px;position:absolute;top:10px;left:12px}.main .Second .tianqi p[data-v-82c2aa7c]{text-align:left;font-size:12px;margin:0!important}.main .Second .yuanjindu[data-v-82c2aa7c]{width:100%;height:150px}.main .Second .yuanjindu .jdflaot[data-v-82c2aa7c]{margin-top:15px;margin-bottom:8px;float:left;margin-left:8px}.main .Second .yuanjindu .jdflaot p[data-v-82c2aa7c]{text-align:center;font-size:14px}.main .Second .yuanjindu div[data-v-82c2aa7c]{margin-bottom:8px;position:relative}.main .Second .yuanjindu div .texts[data-v-82c2aa7c]{width:100%;height:30px;position:absolute;top:32px;text-align:center;font-size:18px}.main .Second .ph[data-v-82c2aa7c]{width:100%;height:auto;padding-bottom:15px}.main .Second .ph ul[data-v-82c2aa7c]{width:100%;height:20px;padding-bottom:0}.main .Second .ph ul li[data-v-82c2aa7c]{font-size:14px;width:60px;height:20px;line-height:20px;float:left;list-style:none;margin-left:10px}.main .Second .ph ol[data-v-82c2aa7c]{width:100%;height:26px;margin-bottom:6px}.main .Second .ph ol li[data-v-82c2aa7c]{margin-top:1px;font-size:14px;width:60px;height:26px;line-height:26px;float:left;list-style:none;margin-left:10px;background:rgba(27,33,67,.8);border:1px solid #1a2458;box-shadow:0 6px 13px 0 #000}.main .Second .wrjingdu[data-v-82c2aa7c]{width:100%;height:auto}.main .Second .wrjingdu p[data-v-82c2aa7c]{text-align:left;padding:4px 20px}.main .Second .wrjingdu .jdhezi[data-v-82c2aa7c]{height:24px;overflow:hidden}.main .Second .wrjingdu .jdhezi .font[data-v-82c2aa7c]{margin-left:30px;margin-right:10px;text-align:center;width:45px;font-size:14px;float:left}.main .Second .wrjingdu .jdhezi .tiaojd[data-v-82c2aa7c]{float:left;width:300px}.main .table[data-v-82c2aa7c]{font-size:10px!important}",""])},1082:function(t,a,e){var i=e(1028);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(846)("4aa12a26",i,!0,{})},1161:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("div",{staticClass:"first"},[e("div",{staticClass:"tables"},[e("a",{staticClass:"bai",attrs:{id:"shishi"},on:{click:function(a){t.RealTimeFatchtoo()}}},[t._v("实时")]),t._v(" "),e("a",{attrs:{id:"leiji"},on:{click:function(a){t.CumulativeFatchtoo()}}},[t._v("累计")]),t._v(" "),e("font",{staticClass:"time2"},[t._v("更新时间："+t._s(t.NewUptime))])],1)]),t._v(" "),e("div",{staticClass:"tqbiaoti"},[t._v("广阳区空气质量")]),t._v(" "),t.tianqiyuji?e("strong",{staticClass:"strong"},[t._v("今日空气质量预计为："+t._s(t.Datalist.quality))]):t._e(),t._v(" "),e("div",{staticClass:"Second"},[e("div",{staticClass:"tianqi"},[e("div",{staticClass:"tqbj"},[e("img",{staticClass:"beijing",attrs:{src:"static/imgs/weather/"+(t.Datalist.weather||"晴")+".png",title:t.Datalist.weather}})]),t._v(" "),e("p",[t._v("温度："+t._s(t.Datalist.temp)+"°C")]),t._v(" "),e("p",[t._v("湿度："+t._s(t.Datalist.humi)+"%")]),t._v(" "),e("p",[t._v("风力："+t._s(t.Datalist.wl)+t._s(t.Datalist.wd))]),t._v(" "),e("p",[t._v("降雨量："+t._s(t.Datalist.rain)+"mm")])]),t._v(" "),e("div",{staticClass:"yuanjindu"},[e("div",{staticClass:"jdflaot"},[e("div",{staticStyle:{width:"90px",height:"90px"},attrs:{id:"main_x"}}),t._v(" "),e("div",{staticClass:"texts"},[t._v(t._s(t.Datalist.aqi))]),t._v(" "),e("p",[t._v("小时AQI")])]),t._v(" "),e("div",{staticClass:"jdflaot"},[e("div",{staticStyle:{width:"90px",height:"90px"},attrs:{id:"main_y"}}),t._v(" "),e("div",{staticClass:"texts"},[t._v(t._s(t.Datalist.aqiAccu))]),t._v(" "),e("p",[t._v("当日累计AQI")])]),t._v(" "),e("div",{staticClass:"jdflaot"},[e("div",{staticStyle:{width:"90px",height:"90px"},attrs:{id:"main_z"}}),t._v(" "),e("div",{staticClass:"texts"},[t._v(t._s(t.Datalist.ComplexIndex))]),t._v(" "),e("p",[t._v("小时综合指数")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shishi,expression:"shishi"}],staticClass:"ph",staticStyle:{"margin-bottom":"4px"}},[e("ul",[e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetPM25LevelIndex(t.Datalist.pm25)),color:t.Datalist.pm25>100?t.changeColor:""}},[t._v("PM2.5")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetPM10LevelIndex(t.Datalist.pm10)),color:t.Datalist.pm10>150?t.changeColor:""}},[t._v("PM10")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetSO2LevelIndex(t.Datalist.so2)),color:t.Datalist.so2>150?t.changeColor:""}},[t._v("SO2")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetCOLevelIndex(t.Datalist.co)),color:t.Datalist.co>150?t.changeColor:""}},[t._v("CO")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetNO2LevelIndex(t.Datalist.no2)),color:t.Datalist.no2>100?t.changeColor:""}},[t._v("NO2")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetO3LevelIndex(t.Datalist.o3)),color:t.Datalist.o3>150?t.changeColor:""}},[t._v("O3")])]),t._v(" "),e("ol",[e("li",[t._v(t._s(t.Datalist.pm25))]),t._v(" "),e("li",[t._v(t._s(t.Datalist.pm10))]),t._v(" "),e("li",[t._v(t._s(t.Datalist.so2))]),t._v(" "),e("li",[t._v(t._s(t.Datalist.co))]),t._v(" "),e("li",[t._v(t._s(t.Datalist.no2))]),t._v(" "),e("li",[t._v(t._s(t.Datalist.o3))])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.leiji,expression:"leiji"}],staticClass:"ph",staticStyle:{"margin-bottom":"4px"}},[e("ul",[e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetPM25LevelIndex(t.Datalist.pm25))}},[t._v("PM2.5")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetPM10LevelIndex(t.Datalist.pm10))}},[t._v("PM10")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetSO2LevelIndex(t.Datalist.so2))}},[t._v("SO2")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetCOLevelIndex(t.Datalist.co))}},[t._v("CO")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetNO2LevelIndex(t.Datalist.no2))}},[t._v("NO2")]),t._v(" "),e("li",{style:{background:t.ROOTgetColorByIndex(t.ROOTgetO3LevelIndex(t.Datalist.o3))}},[t._v("O3")])]),t._v(" "),e("ol",[e("li",[t._v(t._s(t.CumulativeData.pm25))]),t._v(" "),e("li",[t._v(t._s(t.CumulativeData.pm10))]),t._v(" "),e("li",[t._v(t._s(t.CumulativeData.so2))]),t._v(" "),e("li",[t._v(t._s(t.CumulativeData.co))]),t._v(" "),e("li",[t._v(t._s(t.CumulativeData.no2))]),t._v(" "),e("li",[t._v(t._s(t.CumulativeData.o3))])])])]),t._v(" "),e("div",{staticClass:"xuanzetbs"},[e("div",{staticStyle:{"margin-top":"0px"}},[e("el-radio-group",{attrs:{size:"small"},on:{change:t.getMonitoring},model:{value:t.shiquradio,callback:function(a){t.shiquradio=a},expression:"shiquradio"}},[e("el-radio-button",{attrs:{label:"全市"}}),t._v(" "),e("el-radio-button",{attrs:{label:"广阳区"}})],1)],1),t._v(" "),e("div",{staticStyle:{"margin-top":"6px"}},[e("el-radio-group",{attrs:{size:"small"},on:{change:t.getMonitoring},model:{value:t.shibaoradio,callback:function(a){t.shibaoradio=a},expression:"shibaoradio"}},[e("el-radio-button",{attrs:{label:"日报"}}),t._v(" "),e("el-radio-button",{attrs:{label:"月报"}}),t._v(" "),e("el-radio-button",{attrs:{label:"年报"}})],1)],1)]),t._v(" "),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"row-class-name":t.tableRowClassName,border:""},on:{"current-change":t.RowCurrentChange}},[e("el-table-column",{attrs:{prop:"ranking",label:"排名",width:"52"}}),t._v(" "),e("el-table-column",{attrs:{prop:"pointname",label:"国省控点",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"pointlevel",label:"空气质量等级",width:"75"}}),t._v(" "),e("el-table-column",{attrs:{prop:"aqi",label:t.labelType,width:"60"}}),t._v(" "),e("el-table-column",{attrs:{prop:"PrimaryPollutant",label:"首要污染物"}})],1)],1)])},staticRenderFns:[]}},854:function(t,a,e){function i(t){e(1082)}var n=e(1)(e(915),e(1161),i,"data-v-82c2aa7c",null);t.exports=n.exports},915:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(4),n=e(6);a.default={name:"monitoring",data:function(){return{shiquradio:"全市",shibaoradio:"日报",activeName:"guokongdian",changeColor:"#fff",ptType:"国控点",type:"AQI",labelType:"AQI",ClabelType:"AQI",tableData:[],tableCityData:[],DistrictCountyData:[],allData:[],value1:"",histrData:"",value2:"",Datalist:{},tianqiyuji:!0,CumulativeData:{},shishi:!0,leiji:!1,NewUptime:""}},created:function(){this.getMonitoring()},mounted:function(){var t=this,a=this;$(".first .tables a").on("click",function(){$(this).addClass("bai").siblings().removeClass("bai")}),n.a.GetLfAirData().then(function(e){var i=e.data.Data;t.Datalist=i,console.log(i),a.newUptimesData(a.Datalist.time),a.GetHourAPIcolortu(),a.GetCumulativeAPIcolortu(),a.GetcompositeIndexcolortu()})},methods:{newUptimesData:function(t){var a=t.replace("T"," "),e=a.replace("Z"," ");this.NewUptime=e},compare:function(t){return function(a,e){var i=a[t];return e[t]-i}},getMonitoring:function(){var t=void 0,a=this;switch(this.shiquradio){case"全市":t="1";break;case"广阳区":t="2"}var e=void 0;switch(this.shibaoradio){case"日报":e="1";break;case"月报":e="2";break;case"年报":e="3"}n.a.GetMonitoringRank(t,e).then(function(t){var e=t.data.Data,i=1;a.tableData=[],e.forEach(function(t){var e={};e.ranking=i++,e.pointname=t.pointname||"--",e.pointlevel=getQualityByAqi(t.aqi)||"--",e.aqi=t.aqi||"--",e.PrimaryPollutant=t.primaryPollution||"--",a.tableData.push(e)})})},RowCurrentChange:function(t){},switchRender:function(t){},Tochangelabeltype:function(t){var a=t;switch(t.toUpperCase()){case"AQI":a="AQI";break;case"PM25":a="PM2.5";break;case"PM10":a="PM10";break;case"SO2":a="SO2";break;case"NO2":a="NO2";break;case"CO":a="CO";break;case"O3":a="O3";break;case"COMPLEXINDEX":a="综指";break;case"TEMP":a="温度";break;case"HUMI":a="湿度";break;case"WINDANGLE":a="风向";break;case"WINDSPEED":a="风力"}return a},getPollution:function(t){var a=t;switch(t.toUpperCase()){case"PM2.5":a="pm25";break;case"INDEX":a="complexindex";break;case"WS":a="windspeed";break;case"WD":case"WINDANGLE":a="winddirection"}return a},getPollutionTarget:function(t){var a=t;switch(t.toUpperCase()){case"INDEX":a="综指";break;case"TEMP":a="温度";break;case"HUMI":a="湿度";break;case"WS":a="风级";break;case"WD":a="风向"}return a},handleClick:function(t,a){this.ptType=t.label},GetHourAPIcolortu:function(){var t=500-this.Datalist.aqi,a=this.Datalist.aqi,e=this.ROOTgetColorByIndex(this.ROOTgetAQILevelIndex(this.Datalist.aqi)),i=echarts.init(document.getElementById("main_x"));app.title="";var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left"},series:[{name:"小时AQI",type:"pie",radius:["100%","90%"],avoidLabelOverlap:!1,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}}}]};i.setOption(n),i.setOption({series:[{data:[{value:t,name:"占比"},{value:a,name:"AQI"}],color:["#ccc",e]}]})},GetCumulativeAPIcolortu:function(){var t=500-this.Datalist.aqiAccu,a=this.Datalist.aqiAccu,e=this.ROOTgetColorByIndex(this.ROOTgetAQILevelIndex(this.Datalist.aqiAccu)),i=echarts.init(document.getElementById("main_y"));app.title="";var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left"},series:[{name:"累计AQI",type:"pie",radius:["100%","90%"],avoidLabelOverlap:!1,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}}}]};i.setOption(n),i.setOption({series:[{data:[{value:t,name:"占比"},{value:a,name:"累计AQI"}],color:["#ccc",e]}]})},GetcompositeIndexcolortu:function(){var t=112.53-this.Datalist.ComplexIndex,a=this.Datalist.ComplexIndex,e=this.ROOTgetColorByIndex(this.ROOTgetAQILevelIndex(this.Datalist.aqi)),i=echarts.init(document.getElementById("main_z"));app.title="";var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left"},series:[{name:"综合指数",type:"pie",radius:["100%","90%"],avoidLabelOverlap:!1,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!1}}}]};i.setOption(n),i.setOption({series:[{data:[{value:t,name:"占比"},{value:a,name:"综合指数"}],color:["#ccc",e]}]})},tableRowClassName:function(t){t.row;return t.rowIndex%2==0?"warning-row":"success-row"},handleSizeChange:function(t){},handleCurrentChange:function(t){this.setPageTable(10,t)},setPageTable:function(t,a){for(var e=[],i=t*(a-1),n=0;n<t&&!(i+n+1>this.allData.length);n++)e.push(this.allData[i+n]);this.tableData=e},RealTimeFatchtoo:function(){var t=this;this.leiji=!1,this.shishi=!0,this.tianqiyuji=!0,n.a.GetMonitoringPointReal().then(function(a){var e=a.data.Data;i.a.$emit("loadCumulative",e,"layer_gs",t.type,"pointname")})},CumulativeFatchtoo:function(){var t=this,a=this;this.leiji=!0,this.shishi=!1,this.tianqiyuji=!1,n.a.GetLfAirPollution().then(function(a){var e=a.data.Data;t.CumulativeData=e}),n.a.GetMonitoringPointAccu().then(function(t){var e=t.data.Data;i.a.$emit("loadCumulative",e,"layer_gs",a.type,"pointname")})},ROOTgetColorByIndex:function(t){var a="";switch(t){case 0:a="#999";break;case 1:a="#43ce17";break;case 2:a="#efdc31";break;case 3:a="#fa0";break;case 4:a="#ff401a";break;case 5:a="#d20040";break;case 6:a="#9c0a4e";break;default:a="#43ce17"}return a},ROOTgetAQILevelIndex:function(t){var a=0;return 0==t?a=0:t<=200?(a=Math.ceil(t/50))<0&&(a=1):a=t<300?5:6,a},ROOTgetPM25LevelIndex:function(t){return 0==t?0:t<=35?1:t<=75?2:t<=115?3:t<=150?4:t<=250?5:6},ROOTgetPM10LevelIndex:function(t){return 0==t?0:t<=50?1:t<=150?2:t<=250?3:t<=350?4:t<=420?5:6},ROOTgetSO2LevelIndex:function(t){return 0==t?0:t<=50?1:t<=150?2:t<=475?3:t<=800?4:t<=1600?5:6},ROOTgetNO2LevelIndex:function(t){return 0==t?0:t<=40?1:t<=80?2:t<=180?3:t<=280?4:t<=565?5:6},ROOTgetO3LevelIndex:function(t){return 0==t?0:t<=160?1:t<=200?2:t<=300?3:t<=400?4:t<=800?5:6},ROOTgetCOLevelIndex:function(t){return 0==t?0:t<=2?1:t<=4?2:t<=14?3:t<=24?4:t<=36?5:6},ROOTgetComplexIndex:function(t){return 0==t?0:t<=4?1:t<=6?2:t<=8?3:t<=10?4:t<=12?5:6}},components:{}}}});